<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    














    <script src="js/JaroWinkler-stringSimilarity.js"></script>

    <script>
        "use strict";
        
        function fake_similarity(first, candidates) {
            let pos;
            for (pos = 0; pos < first.length; pos++) {
                const candidates_ = candidates.filter((item) => first[pos] === item[pos])
                if (candidates_.length === 0) {
                    if (pos === 0){
                        return [undefined, undefined];
                    }
                    return [candidates, pos];
                }
                candidates = candidates_;
            }
            return [candidates, pos];
        }

        function highlight_similarity(first, candidates) {
            let [fake_sim, pos] = fake_similarity(first, candidates);
            if (fake_sim === undefined) { return NaN; }
            if (fake_sim.length === 1) { return [candidates.indexOf(fake_sim[0]), pos]; }
            

            const fake_sim_jaroWinkler = fake_sim.map((item) => stringSimilarity(first, item));
            const highest = Math.max(...fake_sim_jaroWinkler);
            
            return [candidates.indexOf(fake_sim[fake_sim_jaroWinkler.indexOf(highest)]), pos];
        }

        console.log(highlight_similarity("MOLEHILL", ["MAKI", "MAJKI", "MIKI", "MOU"]));
        

    </script>













</body>
</html>
<!--
// PERMORMANCE TESTING - script
//
//let startTime = performance.now()
//let endTime = performance.now()
//console.log(`Call took ${endTime - startTime} milliseconds`)-->